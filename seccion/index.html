<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte México - Secciones</title>
    <style>
        :root { --purpura: #800080; }
        body { background: #000; color: #fff; font-family: Arial, sans-serif; margin: 0; display: flex; flex-direction: column; min-height: 100vh; }
        
        /* Menú Superior */
        nav { background: #1a1a1a; padding: 15px; border-bottom: 2px solid var(--purpura); display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .nav-link { color: #fff; text-decoration: none; font-weight: bold; font-size: 12px; text-transform: uppercase; }
        .nav-link:hover { color: var(--purpura); }

        header { background: var(--purpura); padding: 30px; text-align: center; border-bottom: 2px solid #fff; }
        
        .container { flex: 1; padding: 20px; max-width: 900px; margin: 0 auto; width: 100%; box-sizing: border-box; }
        .seccion-titulo { border-bottom: 2px solid var(--purpura); padding-bottom: 10px; margin-bottom: 25px; text-transform: uppercase; letter-spacing: 2px; text-align: center; }
        
        /* Estilo de la Lista de Noticias (Solo Título y Enlace) */
        .noticia-item { border-bottom: 1px solid #333; padding: 15px 0; }
        .noticia-link { color: #fff; text-decoration: none; font-size: 1.2rem; font-weight: bold; display: block; line-height: 1.4; }
        .noticia-link:hover { color: var(--purpura); }
        
        footer { background: #1a1a1a; padding: 25px; border-top: 2px solid var(--purpura); text-align: center; font-size: 13px; margin-top: auto; }
    </style>
</head>
<body>
    <nav>
        <a href="/" class="nav-link">Inicio</a>
        <a href="/seccion/?s=nacion" class="nav-link">Nación</a>
        <a href="/seccion/?s=estados" class="nav-link">Estados</a>
        <a href="/seccion/?s=bienestar" class="nav-link">Bienestar</a>
        <a href="/seccion/?s=internacional" class="nav-link">Internacional</a>
    </nav>

    <header><h1>REPORTE MÉXICO</h1></header>

    <div class="container">
        <h2 id="display-seccion" class="seccion-titulo">Cargando...</h2>
        <div id="lista-noticias">Obteniendo las últimas notas...</div>
    </div>

    <footer>
        <strong>Contacto:</strong> prensamexico5.8@gmail.com | <strong>WhatsApp:</strong> 564 575 8105<br><br>
        <small style="color: #aaa;">Licencia Creative Commons (CC) 4.0 BY-NC-SA © 2025</small>
    </footer>

    <script>
        // Detecta qué sección cargar desde la URL (ej: ?s=nacion)
        const params = new URLSearchParams(window.location.search);
        const s = params.get('s') || 'nacion';
        document.getElementById('display-seccion').innerText = s;

        // Configuración de Feeds por categoría
        const feeds = {
            'nacion': 'https://reportetijuana.com/category/nacion/feed/',
            'estados': 'https://reportetijuana.com/category/estados/feed/',
            'bienestar': 'https://reportetijuana.com/category/bienestar/feed/',
            'internacional': 'https://reportetijuana.com/category/internacional/feed/',
            'columnistas': 'https://reportetijuana.com/category/columnistas/feed/',
            'cultura': 'https://reportetijuana.com/category/cultura/feed/'
        };

        async function cargarNoticias() {
            const url = feeds[s] || feeds['nacion'];
            try {
                const response = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(url)}`);
                const data = await response.json();
                const contenedor = document.getElementById('lista-noticias');
                contenedor.innerHTML = '';

                if(data.status === 'ok') {
                    data.items.forEach(item => {
                        const div = document.createElement('div');
                        div.className = 'noticia-item';
                        div.innerHTML = `<a href="${item.link}" class="noticia-link" target="_blank">${item.title}</a>`;
                        contenedor.appendChild(div);
                    });
                } else {
                    contenedor.innerText = "No se encontraron noticias en esta sección.";
                }
            } catch (e) {
                document.getElementById('lista-noticias').innerText = "Error de conexión con la red de noticias.";
            }
        }
        window.onload = cargarNoticias;
    </script>
</body>
</html>
